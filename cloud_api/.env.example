# ============================================
# Cloud API Environment Configuration
# ============================================

# ============================================
# Server Configuration
# ============================================

# Server Port
PORT=3000

# Node Environment (development, staging, production)
NODE_ENV=development

# ============================================
# Authentication & Security
# ============================================

# API Key Authentication
# Set REQUIRE_AUTH=true in production and provide a strong API key
# Generate secure key: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
REQUIRE_AUTH=false
API_KEY=your-secret-api-key-here-change-in-production

# ============================================
# CORS Configuration
# ============================================

# Comma-separated list of allowed origins (extension IDs)
# Example: chrome-extension://abcdefghijk,chrome-extension://lmnopqrstuv
# Leave empty or set to * for development (allows all origins)
# In production, ALWAYS specify your extension IDs
ALLOWED_ORIGINS=

# ============================================
# Rate Limiting
# ============================================

# Rate limit window in milliseconds (default: 60000 = 1 minute)
RATE_LIMIT_WINDOW_MS=60000

# Maximum requests per window for API endpoints (default: 20)
RATE_LIMIT_MAX_REQUESTS=20

# Maximum requests per window for health endpoints (default: 100)
RATE_LIMIT_HEALTH_MAX=100

# ============================================
# yt-dlp Configuration
# ============================================

# Timeout for yt-dlp execution in milliseconds (default: 25000 = 25 seconds)
YTDLP_TIMEOUT=25000

# Maximum buffer size for yt-dlp output in bytes (default: 10485760 = 10MB)
YTDLP_MAX_BUFFER=10485760

# ============================================
# Feature Flags
# ============================================

# Enable detailed health endpoint (set to false in production for security)
ENABLE_HEALTH_DETAILS=true

# Enable metrics tracking (set to false to disable performance tracking)
ENABLE_METRICS=true

# ============================================
# Production Example Configuration
# ============================================
# Uncomment and modify for production deployment:
#
# PORT=3000
# NODE_ENV=production
# REQUIRE_AUTH=true
# API_KEY=<your-generated-secure-key-here>
# ALLOWED_ORIGINS=chrome-extension://your-extension-id
# RATE_LIMIT_MAX_REQUESTS=10
# ENABLE_HEALTH_DETAILS=false
# ENABLE_METRICS=true
